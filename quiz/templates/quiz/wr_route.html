{% extends 'quiz/base.html' %}
{% load static %}
{% load staticfiles %}

{% block header %}
  WR Route
{% endblock %}
{% block buttons %}
  <div class="holds-play-buttons">
    <button id="play-button" class="btn btn-success" name="button">Play</button>
    <button id="check-button" class="btn btn-success" name="button">Check</button>
    <button id="restart-button" class="btn btn-success" name="button">Restart</button>
    <button id="clear-button" class="btn btn-success" name="button">Clear</button>
    <button id="back-button" class="btn btn-success" name="button">Back</button>

    <button id="next-play-button" class="btn btn-success" name="button">Next Play</button>

  </div>
{% endblock %}

{% block edit_test_button %}
  <a class="btn btn-success" href="/tests/{{test.id}}/edit">Edit Test</a>
{% endblock %}

{% block quiz_type %}
  <script language="javascript" type="text/javascript" src="{% static 'quiz/WRRoute.js' %}"></script>
  <script type="text/javascript">
  $('#play-button').click(function(){
    pressPlayButton();
  })

  $('#pause-button').click(function(){
    pressPlayButton();
  })

  $('#check-button').click(function(){
    var currentPlay = test.getCurrentPlay();
    selectedWR = currentPlay.findSelectedWR()
    if(selectedWR){
      selectedWR.checkRoutes(currentPlay);
    }
  })

  $('#clear-button').click(function(){
    var currentPlay = test.getCurrentPlay();
    currentPlay.clearProgression();
    currentPlay.clearRouteDrawings();
    test.scoreboard.feedbackMessage = "";
  })

  $('#back-button').click(function(){
    var currentPlay = test.getCurrentPlay();
    var selectedWR = currentPlay.findSelectedWR();
    if(selectedWR)selectedWR.stepRouteBackward();
  })

  $('#restart-button').click(function(){
    pressStopButton();
  })

  $('#next-play-button').click(function(){
    test.skips++;
    test.advanceToNextPlay("Boo! Weak!");
  })
</script>
  </script>
{% endblock %}
