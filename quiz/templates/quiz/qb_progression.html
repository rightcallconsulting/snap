{% extends 'quiz/base.html' %}
{% load static %}
{% load staticfiles %}

{% block content %}

{% endblock %}
{% block header %}
  QB Progression
{% endblock %}

{% block buttons %}
  <div class="holds-play-buttons">

    <button id="play-button" class="btn btn-success" name="button">{% include "quiz/play_button.html" %}</button>
    <button id="pause-button" class="btn btn-success" name="button">{% include "quiz/pause_button.html" %}</button>
    <button id="check-button" class="btn btn-success" name="button">{% include "quiz/check_button.html" %}</button>
    <button id="restart-button" class="btn btn-success" name="button">{% include "quiz/refresh_button.html" %}</button>
    <button id="clear-button" class="btn btn-success" name="button">{% include "quiz/clear_button.html" %}</button>
    <button id="next-play-button" class="btn btn-success" name="button">{% include "quiz/next_play_button.html" %}</button>
  </div>
{% endblock %}

{% block edit_test_button %}
  <a class="btn btn-success" href="/tests/{{test.id}}/edit">Edit Test</a>
{% endblock %}


{% block quiz_type %}
  <script language="javascript" type="text/javascript" src="{% static 'quiz/QBProgression.js' %}"></script>
  <script type="text/javascript">
      $('#play-button').click(function(){
        pressPlayButton();
      })

      $('#pause-button').click(function(){
        pressPlayButton();
      })

      $('#check-button').click(function(){
        if (test.getCurrentPlay()){
          test.getCurrentPlay().checkProgression();
        }
      })

      $('#clear-button').click(function(){
        if (test.getCurrentPlay()){
          test.getCurrentPlay().clearProgression();
          test.scoreboard.feedbackMessage = "";
        }
      })

      $('#restart-button').click(function(){
        pressStopButton();
      })

      $('#next-play-button').click(function(){
        if (test.getCurrentPlay()){
          pressStopButton();
          test.skips++;
          test.advanceToNextPlay("Boo! Weak!");
          if (test.getCurrentPlay()){
          test.getCurrentPlay().inProgress = false;
          }
        }
      })


  </script>
{% endblock %}
